<!DOCTYPE html>
<html>
<head>
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Page Meta -->
    <title>안드로이드 텍스트뷰 Width 이상 현상</title>
    <meta name="description" content="Develop and Write" />

    <!-- Mobile Meta -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Brand icon -->
    <link rel="shortcut icon" href="/assets/images/balloon.ico" >

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- Ghost outputs important style and meta data with this tag -->
        <link rel="canonical" href="/2023-01-08-Strange-Android-Textview-width" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="15balloon" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="안드로이드 텍스트뷰 Width 이상 현상" />
    <meta property="og:description" content="Develop and Write" />
    <meta property="og:url" content="/2023-01-08-Strange-Android-Textview-width" />
    <meta property="og:image" content="/assets/images/cover1.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="안드로이드 텍스트뷰 Width 이상 현상" />
    <meta name="twitter:description" content="Develop and Write" />
    <meta name="twitter:url" content="/2023-01-08-Strange-Android-Textview-width" />
    <meta name="twitter:image:src" content="/assets/images/cover1.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "15balloon",
    "name": "안드로이드 텍스트뷰 Width 이상 현상",
    "url": "/2023-01-08-Strange-Android-Textview-width",
    "image": "/assets/images/cover1.jpg",
    "description": "Develop and Write"
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="15balloon" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <!-- The blog navigation links -->
    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <li class="nav-about " role="presentation"><a href="/about">About</a></li>
        <li class="nav-android " role="presentation"><a href="/tag/android">Android</a></li>
        <li class="nav-conference " role="presentation"><a href="/tag/conference">Conference</a></li>
        <li class="nav-error " role="presentation"><a href="/tag/error">Error</a></li>
        <li class="nav-flutter " role="presentation"><a href="/tag/flutter">Flutter</a></li>
        <li class="nav-author " role="presentation"><a href="/author/15balloon">15balloon</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<header class="main-header post-head " style="background-image: url(/assets/images/cover1.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/15balloon.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-test tag-content">

        <header class="post-header">
            <h1 class="post-title">안드로이드 텍스트뷰 Width 이상 현상</h1>
            <section class="post-meta">
            <!-- <a href='/'></a> -->

            
                
                    <a href='/author/15balloon'>15balloon</a>
                
            
            <time class="post-date" datetime="2023-01-08">08 Jan 2023</time>
                <!-- [[tags prefix=" on "]] -->
                
                on
                
                    
                       <a href='/tag/android'>Android</a>,
                    
                
                    
                       <a href='/tag/error'>Error</a>
                    
                
                
            </section>
        </header>

        <section class="post-content">

            <h4 id="android-textview-width-이상-현상-수정">Android Textview width 이상 현상 수정</h4>

<p>안드로이드 앱 개발을 하던 중 폰트를 수정하면서 Textview의 width가 이상한 문제를 발견했다.<br />
<img src="/assets/images/2023-01-08-Strange-Android-Textview-width_1.jpg" width="100%" height="100%" title="problem" alt="Image: Strange Textviews" />
위 사진에서 볼 수 있듯 같은 문장인데 Textview들의 길이가 차이 났다. (위 사진은 그때의 상황을 재현한 것임)<br />
둘 다 코드에서 자간이나 폰트 크기 등을 설정해주긴 하지만 모두 동일하게 설정해주고 있었고, 다르게 적용하는 부분은 없었다.<br />
그나마 차이라 한다면 하나는 Scrollview를 사용하고, 하나는 Textview를 사용한다는 것이다.<br />
혹시 이 둘의 차이가 있는 건지 검색해보았지만, 당연히 관련된 내용은 찾을 수 없었다.<br />
차이가 나는 Textview들을 뚫어지게 살펴보니 View 전체가 아니라 자간에서만 차이를 보이는 것을 발견했다.<br />
그렇지만 코드에서 자간은 모두 동일하게 설정해주고 있었기 때문에 더욱 의문에 빠질 수밖에 없었다.<br />
게다가 시스템 기본 폰트를 사용할 때는 보이지 않았다가, 새로운 폰트를 적용하니 문제가 보여서 더 혼란스러웠다.<br />
몇 시간을 구글에서 헤매던 중에 하나의 Textview는 코드 내에서 글자를 조합해서 보여주는 방식이고, 다른 하나의 Textview는 웹페이지에서 입력한 값을 서버를 통해 받아와서 보여주는 방식임을 보고 두 문자열을 로그에 찍어 보았다.<br />
당연히 로그 상에서는 ‘It has strange width…‘로 동일하게 보였다.<br />
뭐가 문제일까 생각하다 코드 내에서 다시 로그를 찍어 봐야겠다 하고 아무 생각 없이 로그에 찍힌 두 번째 Textview의 문자열을 복사해서 아래와 같이 붙여 넣었다.<br />
그랬더니 아래와 같은 광경이 내 눈앞에 펼쳐졌다.</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Log</span><span class="p">.</span><span class="nf">d</span><span class="p">(</span><span class="nc">TAG</span><span class="p">,</span> <span class="s">"It has strange width..."</span><span class="p">)</span> <span class="c1">// What I expected...</span>
<span class="nc">Log</span><span class="p">.</span><span class="nf">d</span><span class="p">(</span><span class="nc">TAG</span><span class="p">,</span> <span class="s">"It[NBSP]has[NBSP]strange[NBSP]width..."</span><span class="p">)</span> <span class="c1">// But the following happened...!</span>
</code></pre></div></div>

<p>여기서 [NBSP]는 HTML에서 볼 수 있는 &amp;nbsp가 맞다.<br />
No-Break Space의 줄임말이며, 줄바꿈 없는 공백이란 뜻이다.<br />
NBSP의 유니코드는 ‘\u00A0’이다.<br />
그런데 일반 공백, 우리가 흔히 스페이스 바로 작성하는 공백의 유니코드는 ‘\u0020’이다.<br />
즉, 두 글자는 같아 보이지만 전혀 다른 글자이다.<br />
기본 폰트는 ‘\u0020’이든 ‘\u00A0’이든 거의 비슷한 너비를 가져서 두 Textview들의 길이 차이가 거의 없었지만, 일부 폰트들은 일반 공백인 ‘\u0020’의 너비만 폰트 컨셉에 맞게 지정해 놓았는데 ‘\u00A0’의 너비는 별도로 지정해 놓지 않아서 기본 너비만큼만 작성되었기 때문에 차이가 났던 것이라고 결론 내렸다.<br />
그리고 Textview에 넣을 문자열의 ‘\u00A0’을 모두 ‘\u0020’으로 replace하여 사용하도록 수정하여 문제를 해결하였다.</p>

<h5 id="reference">Reference:</h5>

<p>Just me</p>


        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->
            
                
                    
                        <figure class="author-image">
                            <a class="img" href="/author/15balloon" style="background-image: url(/assets/images/15balloon_profile.png)"><span class="hidden">15balloon's Picture</span></a>
                        </figure>
                    

                    <section class="author">
                        <h4><a href="/author/15balloon">15balloon</a></h4>

                        
                            <p> Android Developer</p>
                        
                        <div class="author-meta">
                            <span class="author-location icon-location"> Seoul, Republic of Korea</span>
                            <span class="author-link icon-link"><a href="http://15balloon.github.io/"> 15balloon.github.io/</a></span>
                        </div>
                    </section>

                    <!-- /author  -->

                    <section class="share">
                        <h4>Share this post</h4>
                        <a class="icon-twitter" href="http://twitter.com/share?text=안드로이드 텍스트뷰 Width 이상 현상&amp;url=https://15balloon.github.io2023-01-08-Strange-Android-Textview-width"
                            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                            <span class="hidden">Twitter</span>
                        </a>
                        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://15balloon.github.io2023-01-08-Strange-Android-Textview-width"
                            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                            <span class="hidden">Facebook</span>
                        </a>
                        <a class="icon-google-plus" href="https://plus.google.com/share?url=https://15balloon.github.io2023-01-08-Strange-Android-Textview-width"
                           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                            <span class="hidden">Google+</span>
                        </a>
                    </section>
                
            

            <!-- Add Disqus Comments -->
            

        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/assets/images/cover1.jpg)" href="/2023-01-15-if-kakao-Mobile-kakaopay-rebuilding-review">
            <section class="post">
                <h2>if(kakao)dev2022 모바일: '카카오페이 앱 리빌딩 스토리' 세션 후기</h2>
                <p>##### 세션 내용 요약 1. 앱 리빌딩 배경 - 서비스 증가에 따른 코드 품질과 사용성...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/cover1.jpg)" href="/2022-12-29-Giuhub-Pages-404-error">
            <section class="post">
                <h2>Giuhub Pages 404 error</h2>
                <p>Jekyll 테마 적용 중에 발생한 오류 수정 모든 파일을 Git에 제대로 올렸음에도 페이지 메뉴에서 태그별...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <!-- The tiny footer at the very bottom -->
        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">15balloon</a> &copy; 2024</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/jekyllt/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- jQuery needs to come before `` so that jQuery can be used in code injection -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <!-- Ghost outputs important scripts and data with this tag -->
    <!--  -->
    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', '', 'auto');
	    ga('send', 'pageview');

     </script>
    <!-- Fitvids makes video embeds responsive and awesome -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <!-- The main JavaScript file for 15balloon -->
    <script type="text/javascript" src="/assets/js/index.js"></script>

</body>
</html>
